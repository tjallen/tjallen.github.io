function browserCanLoadVideo(){var e=!!window.chrome,n=!!window.sidebar,a=!!window.opera||/opera|opr/i.test(navigator.userAgent),t=/constructor/i.test(window.HTMLElement),o=window.navigator.msPointerEnabled,i=!!window.ActiveXObject;return e||n||a?!0:t||o||i?!1:!1}var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};if(isMobile.any())$("#mobile-overlay").css("display","table"),$("html").css("overflow","visible").find("body").css("overflow","visible");else if(browserCanLoadVideo()){var nightingaleYTDeferred=$.Deferred();window.onYouTubeIframeAPIReady=function(){nightingaleYTDeferred.resolve(window.YT)},$.getScript("https://www.youtube.com/iframe_api").done(function(e,n){})}else{var _disabledOuter=$("#disabled-overlay"),_disabledInner=$("#disabled-overlay__inner"),_message=_disabledInner.find("#disabled-overlay__inner__message"),_modal=$("#disabled-overlay__modal");_disabledOuter.css("display","table"),_disabledInner.find("a").on("click",function(){return _modal.toggleClass("active"),_message.toggleClass("active"),!1}),_modal.find("span").on("click",function(){_modal.toggleClass("active"),_message.toggleClass("active")})}var nightingalePlayer=function(){function e(e){if(D=E,D.initSettingsChildren(),e)for(var n in e)e.hasOwnProperty(n)&&(D.defaults[n]=e[n]);D.$playerElem.length?(A=new YT.Player(D.playerElem,{width:D.playerWidth,height:D.playerHeight,videoId:D.defaults.videoKey,playerVars:{autoplay:D.autoPlay,enablejsapi:D.enableYouTubeApi,controls:D.enableControls,rel:D.showRelatedContent,showinfo:D.showPlayerInfo,modestbranding:D.enableModestBranding},events:{onReady:a,onStateChange:t}}),D.$playerOverlays.fadeIn()):console.error('nightingalePlayer Error: Cannot initialise, no target div found. Please add a div with id "nightingalePlayer" to the page.')}function n(){M.on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",o),D.$playerSeekSlider.on("mousedown",s).on("mouseup",d).on("mousemove",u),D.$standardPlayerControls.on("click",i),D.$replayVideoBtn.on("click",c),D.$volContainer.on("click",f),D.$volTrack.on("mousedown",m).on("mousemove",v).on("mouseup",h),D.$muteToggleBtn.on("mouseover",p),D.$allControlsWrapper.on("mouseleave",y),D.$facebookShareBtn.on("click",r),D.$twitterShareBtn.on("click",l)}function a(e){B=A.getDuration();var a=A.getVolume();D.$volSlider.css("width",a+"%"),T=D.$volSlider.css("width"),e.target.setPlaybackQuality("default"),n()}function t(e){var n="active";e.data==YT.PlayerState.PLAYING?(b(),D.$playPauseBtn.addClass(n)):clearTimeout(k),e.data==YT.PlayerState.PAUSED&&D.$playPauseBtn.removeClass(n),e.data==YT.PlayerState.ENDED&&(w(),D.$playPauseBtn.removeClass(n))}function o(){D.$fsToggleBtn.toggleClass("active")}function i(){var e=$(this).attr("id");switch(e){case"controls__standard--play-pause":A.getPlayerState()==YT.PlayerState.PLAYING?A.pauseVideo():A.playVideo();break;case"controls__standard--toggle-mute":A.isMuted()?(A.unMute(),D.$volSlider.css("width",T)):(A.mute(),D.$volSlider.css("width","0%")),$(this).toggleClass("active");break;case"controls__standard--fs":P($(this).hasClass("active"))}}function r(){}function l(){}function s(e){A.pauseVideo(),D.thumbDragging=!0,_(e.pageX)}function d(e){D.thumbDragging&&(D.thumbDragging=!1,_(e.pageX),A.playVideo())}function u(e){D.thumbDragging&&(clearTimeout(k),_(e.pageX))}function c(){D.$playerEndframe.fadeOut({duration:800,complete:g})}function g(){A.playVideo()}function f(e){e.stopPropagation()}function m(e){D.thumbDragging=!0,C(e.pageX)}function v(e){D.thumbDragging&&C(e.pageX)}function h(e){D.thumbDragging&&(D.thumbDragging=!1,C(e.pageX))}function p(){D.$volContainer.addClass("active"),D.$volContainer.stop().animate({width:"120px"},150,"easeInOutQuad").css("overflow","visible")}function y(){D.$volContainer.stop().animate({width:"0"},200,"easeInOutQuad",function(){D.$volContainer.removeClass("active")}).css("overflow","visible"),D.thumbDragging&&(D.thumbDragging=!1)}function b(){k=setInterval(function(){var e=A.getCurrentTime(),n=100*e/B;D.$playedBar.css("width",n+"%")},400),D.$endFrameWrapper.is(":visible")&&D.$endFrameWrapper.hide()}function w(){D.$endFrameWrapper.show(),D.$playerEndframe.fadeIn(1e3),D.$playedBar.css("width","100%")}function _(e){var n=S(e,D.$playerSeekSlider),a=B*n/100;D.$playedBar.css("width",n+"%"),A.seekTo(a)}function C(e){var n=S(e,D.$volTrack),a=Math.round(n);0!==a?(A.unMute(),A.setVolume(a),D.$muteToggleBtn.addClass("active")):0===a&&(A.mute(),D.$muteToggleBtn.removeClass("active")),T=A.getVolume()+"%",D.$volSlider.css("width",n+"%")}function S(e,n){var a=e-n.offset().left,t=100*a/n.width();return t>100&&(t=100),0>t&&(t=0),t}function P(e){var n,a;if(e?(a=document,n=a.cancelFullScreen||a.webkitCancelFullScreen||a.mozCancelFullScreen||a.msExitFullscreen):(a=document.body,n=a.requestFullScreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen),n)n.call(a);else if("undefined"!=typeof window.ActiveXObject){var t=new ActiveXObject("WScript.Shell");null!==t&&t.SendKeys("{F11}")}}var k,B,T,A,D,M=$(document),E={$playerOverlays:$(".player-overlay"),$endFrameWrapper:$("#endframe-overlay-wrapper"),$playerEndframe:$("#endframe-overlay"),$allControlsWrapper:$(".controls"),$standardPlayerControls:$(".controls__standard"),$controlsContainer:$("#controls__expanding_centre"),$playPauseBtn:$("#controls__standard--play-pause"),$muteToggleBtn:$("#controls__standard--toggle-mute"),$fsToggleBtn:$("#controls__standard--fs"),$facebookShareBtn:$(".facebook-share"),$twitterShareBtn:$(".twitter-share"),$playerSeekSlider:$(".seekslider"),$playedBar:$(".seekslider__played"),thumbDragging:!1,$volContainer:$(".volume"),colorTheme:{primary:"#ffffff",secondary:"#f44c02"},defaults:{videoKey:"VG26ZMFQlMg"},playerElem:"nightingalePlayer",playerWidth:"100%",playerHeight:"100%",autoPlay:1,enableYouTubeApi:1,enableControls:0,showPlayerInfo:0,showRelatedContent:0,enableModestBranding:1,initSettingsChildren:function(){return this.$playerElem=$("#"+this.playerElem),this.$replayVideoBtn=this.$playerEndframe.find("button"),this.$controlsList=this.$controlsContainer.find("ul"),this.$volTrack=this.$volContainer.find(".volume__track"),this.$volSlider=this.$volContainer.find(".volume__track__slider"),this.$volSliderThumb=this.$volContainer.find(".volume__track__thumb"),delete this.initSettingsChildren,this}};return{init:e}}($);
//# sourceMappingURL=nightingalePlayer.js.map
